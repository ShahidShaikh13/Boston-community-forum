<div class="mb-6">
  <h1>My Profile</h1>
  <p class="text-muted">Manage your account and view your posts</p>
</div>

<div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
  <!-- Profile Info -->
  <div class="card">
    <h2 class="card-title mb-4">Profile Information</h2>
    
    <div class="space-y-4">
      <div>
        <label class="form-label">Email</label>
        <p class="text-muted"><%= @user.email %></p>
      </div>
      
      <div>
        <label class="form-label">College</label>
        <div class="flex items-center gap-2">
          <span class="college-badge">
            <i class="fas fa-university"></i>
            <%= @user.college %>
          </span>
        </div>
      </div>
      
      <div>
        <label class="form-label">Member Since</label>
        <p class="text-muted"><%= @user.created_at.strftime("%B %d, %Y") %></p>
      </div>
      
      <div>
        <label class="form-label">Total Posts</label>
        <p class="text-muted"><%= @user.posts.count %></p>
      </div>
      
      <div>
        <label class="form-label">Total Comments</label>
        <p class="text-muted"><%= @user.comments.count %></p>
      </div>
    </div>
    
    <div class="mt-6">
      <%= link_to edit_user_registration_path, class: "btn btn-primary" do %>
        <i class="fas fa-edit"></i>
        Edit Profile
      <% end %>
    </div>
  </div>
  
  <!-- User's Posts -->
  <div class="lg:col-span-2">
    <div class="card">
      <div class="card-header">
        <h2 class="card-title">My Posts</h2>
        <%= link_to new_post_path, class: "btn btn-primary btn-sm" do %>
          <i class="fas fa-plus"></i>
          New Post
        <% end %>
      </div>
      
      <% if @posts.any? %>
        <div class="space-y-4">
          <% @posts.each do |post| %>
            <div class="border border-border-color rounded-lg p-4">
              <div class="flex items-center gap-2 mb-2">
                <span class="text-sm text-muted">
                  <i class="fas fa-folder"></i>
                  <%= post.category.name %>
                </span>
                <span class="text-sm text-muted">
                  <i class="fas fa-clock"></i>
                  <%= time_ago_in_words(post.created_at) %> ago
                </span>
              </div>
              
              <h3 class="text-lg font-semibold mb-2">
                <%= link_to post.title, post_path(post), class: "hover:text-primary-color" %>
              </h3>
              
              <p class="text-muted mb-3"><%= post.excerpt %></p>
              
              <div class="flex items-center justify-between">
                <div class="flex items-center gap-4 text-sm text-muted">
                  <span>
                    <i class="fas fa-comments"></i>
                    <%= post.comments_count %> comments
                  </span>
                </div>
                
                <div class="flex gap-2">
                  <%= link_to edit_post_path(post), class: "btn btn-secondary btn-sm" do %>
                    <i class="fas fa-edit"></i>
                    Edit
                  <% end %>
                  <%= button_to post_path(post), method: :delete, 
                      class: "btn btn-danger btn-sm", 
                      data: { confirm: "Are you sure?" } do %>
                    <i class="fas fa-trash"></i>
                    Delete
                  <% end %>
                </div>
              </div>
            </div>
          <% end %>
        </div>
      <% else %>
        <div class="text-center py-8">
          <i class="fas fa-edit text-4xl text-muted mb-4"></i>
          <h3 class="text-xl font-semibold mb-2">No posts yet</h3>
          <p class="text-muted mb-4">Start sharing your thoughts with the community!</p>
          <%= link_to new_post_path, class: "btn btn-primary" do %>
            <i class="fas fa-plus"></i>
            Create Your First Post
          <% end %>
        </div>
      <% end %>
    </div>
  </div>
</div> 